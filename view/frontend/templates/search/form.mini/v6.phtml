<?php
/**
 * Celebros (C) 2022. All Rights Reserved.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish correct extension functionality.
 * If you wish to customize it, please contact Celebros.
 */

/** @var $block \Magento\Framework\View\Element\Template */
/** @var $helper \Magento\Search\Helper\Data */
$helper = $this->helper(\Magento\Search\Helper\Data::class);
/** @var $celHelper Celebros\AutoComplete\Helper\Data */
$celHelper = $this->helper(\Celebros\AutoComplete\Helper\Data::class);
?>
<?php if ($celHelper->isEnabled()): ?>
<div id="searchSuggestions" class="ng-scope">
    <div class="ng-scope" ng-view=""></div>
</div>
    <?php if ($cssUrl = $celHelper->getExternalCssUrl()): ?>
<link rel="stylesheet" type="text/css" media="all" href="<?= $block->escapeHtml($celHelper->getProtocol()) . '://' . $block->escapeUrl($cssUrl) ?>"/>
    <?php else: ?>
<link rel="stylesheet" type="text/css" media="all" href="<?= $block->escapeHtml($celHelper->getProtocol()) ?>://<?= $block->escapeUrl($celHelper->getScriptServerAddress()) ?>/AutoCompleteV6/Clients/<?= $block->escapeHtml($celHelper->getCustomerName()) ?>/output/CelStylesAC.css"/>
    <?php endif; ?>
<script type="text/javascript">
require(["https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular.min.js"], function () {
    require(["https://ajax.googleapis.com/ajax/libs/angularjs/1.6.2/angular-route.min.js"], function () {
        require(["<?= $block->escapeHtml($celHelper->getProtocol()) ?>://<?= $block->escapeUrl($celHelper->getScriptServerAddress()) ?>/AutoCompleteV6/Clients/<?= $block->escapeHtml($celHelper->getCustomerName()) ?>/output/CelScriptsAC.js"], function() {});
    });
});
</script>
<?php endif ?>
